# SDL输入模块

1. 代码路径：sdl_stu/sdl_input_module
2. 测试代码：test/sdl_input_module_test.cpp

## 1. SDL输入模块简介

SDL输入模块提供了对键盘、鼠标、游戏控制器等输入设备的访问。通过SDL输入模块，您可以获取输入设备的状态，并处理用户输入。

### 主要功能

- **键盘输入**：获取键盘状态，处理键盘事件。
- **鼠标输入**：获取鼠标状态，处理鼠标事件。
- **游戏控制器输入**：打开和关闭游戏控制器，获取控制器状态。

## 2. 键盘输入

1. SDL键盘输入模块用于处理键盘按键的按下和抬起操作。通过SDL键盘输入模块，您可以获取键盘状态，处理键盘事件。
2. SDL键盘输入的处理流程如下：
    1. 获取键盘状态
    2. 判断按键状态
    3. 处理键盘事件

### 键盘状态

SDL键盘状态是一个数组，用于存储键盘按键的状态。键盘状态数组的大小为256，每个元素对应一个键盘按键的状态。键盘按键的状态有两种：按下和抬起。

函数原型：

```CPP  
const Uint8* SDL_GetKeyboardState(int* numkeys);
```

函数返回值：返回一个指向键盘状态数组的指针。

函数参数：numkeys：键盘状态数组的大小。

### 判断按键状态

SDL键盘状态数组的元素值为0表示按键抬起，为1表示按键按下。

### 处理键盘事件

SDL键盘事件的类型有两种：按下`SDL_KEYDOWN`和抬起`SDL_KEYUP`。

函数原型：

```CPP
int SDL_PollEvent(SDL_Event* event);
```

函数返回值：如果有事件可用，SDL_PollEvent 返回1，并将事件存储在提供的 SDL_Event 结构体中，没有事件可用时返回0。 

函数参数：event：SDL_Event 结构体指针，用于存储事件。

## 3. 鼠标输入

1. SDL鼠标输入模块用于处理鼠标的各种操作，如鼠标移动、鼠标按钮按下和释放、鼠标滚轮滚动等。
2. SDL鼠标输入的处理流程如下：
    1. 获取鼠标状态
    2. 判断鼠标事件类型
    3. 处理鼠标事件

### 获取鼠标状态

SDL鼠标状态是一个结构体，用于存储鼠标的状态。SDL提供了一个函数用于获取鼠标状态。

函数原型：

```CPP
Uint32 SDL_GetMouseState(int* x, int* y);
```

函数返回值：返回鼠标的状态。

函数参数：x：鼠标的X坐标；y：鼠标的Y坐标。

### 判断鼠标事件类型

SDL鼠标事件的类型有三种：鼠标移动`SDL_MOUSEMOTION`、鼠标按钮按下`SDL_MOUSEBUTTONDOWN`和鼠标按钮释放`SDL_MOUSEBUTTONUP`。

### 处理鼠标事件

SDL鼠标事件的处理流程如下：
1. 获取鼠标事件
2. 判断事件类型
3. 处理鼠标事件

## 4. 游戏控制器输入

1. SDL游戏控制器输入模块用于处理游戏控制器的各种操作，如按键按下和释放、摇杆移动等。
2. SDL游戏控制器输入的处理流程如下：
    1. 打开游戏控制器
    2. 获取游戏控制器状态
    3. 处理游戏控制器事件

### 打开游戏控制器

SDL提供了一系列函数用于打开和关闭游戏控制器。

函数原型：

```CPP

int SDL_NumJoysticks(void);
```

函数返回值：返回连接的游戏控制器数量。

函数原型：

```CPP
SDL_Joystick* SDL_JoystickOpen(int device_index);
```

函数返回值：返回打开的游戏控制器。

函数参数：device_index：游戏控制器的索引。

### 获取游戏控制器状态

SDL游戏控制器状态是一个结构体，用于存储游戏控制器的状态。SDL提供了一系列函数用于获取游戏控制器状态。

函数原型：

```CPP
Uint8 SDL_JoystickGetButton(SDL_Joystick* joystick, int button);
```

函数返回值：返回游戏控制器按钮的状态。

函数参数：joystick：游戏控制器指针；button：按钮索引。

函数原型：

```CPP
Sint16 SDL_JoystickGetAxis(SDL_Joystick* joystick, int axis);
```

函数返回值：返回游戏控制器摇杆的状态。

函数参数：joystick：游戏控制器指针；axis：摇杆索引。

### 处理游戏控制器事件

SDL游戏控制器事件的处理流程如下：
1. 获取游戏控制器事件
2. 判断事件类型
3. 处理游戏控制器事件
