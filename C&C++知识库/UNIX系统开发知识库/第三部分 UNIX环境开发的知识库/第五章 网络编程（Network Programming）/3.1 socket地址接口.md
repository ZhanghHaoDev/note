# socket 地址接口

## 1. note 知识点

1. 字节序：现代CPU的累加器一次都能装载（至少）4字节，即一个整数。那么这个4字节值内存中排序的顺序将影响她被累加器装载成的整数的值
2. 字节序分为：大端字节序，小端字节序
3. 大端字节序：是指一个整数的高位字节（23-31bit）存储在内存的低地址处，低位字节（0-7bit）存储在内存的高地址位
4. 小端字节序：小端字节序则是指高位字节序存储在内存的高地址处，而低位字节序则存储在内存的低地址处
5. 现在是pc主机大部分都是小端字节序，所以也叫主机字节序
6. 网络上通常使用的是大端字节序，也称为网络字节序（Network Byte Order）

## 2. 接口详解

1. 字节序转换函数 htons 函数
+ 函数功能：将 16 位主机字节序转换为网络字节序。
+ 函数原型：
    ```c
    #include <arpa/inet.h>
    uint16_t htons(uint16_t hostshort);
    ```
+ 函数参数：hostshort：类型为 uint16_t，16 位无符号短整数，表示以主机字节序存储的数值。
+ 函数返回值：返回以网络字节序表示的 16 位无符号短整数。

2. 字节序转换函数 htonl 函数
+ 函数功能：将 32 位主机字节序转换为网络字节序。
+ 函数原型：
    ```c
    #include <arpa/inet.h>
    uint32_t htonl(uint32_t hostlong);
    ```
+ 函数参数：hostlong：类型为 uint32_t，32 位无符号长整数，表示以主机字节序存储的数值。
+ 函数返回值：返回以网络字节序表示的 32 位无符号长整数。

3. 字节序转换函数 ntohs 函数
+ 函数功能：将 16 位网络字节序转换为主机字节序。
+ 函数参数：
    ```c
    #include <arpa/inet.h>
    uint16_t ntohs(uint16_t netshort);
    ```
+ 函数参数：netshort：类型为 uint16_t，16 位无符号短整数，表示以网络字节序存储的数值。
+ 函数返回值：返回以主机字节序表示的 16 位无符号短整数。

4. 字节序转换函数 ntohl 函数
+ 函数功能：将 32 位网络字节序转换为主机字节序。
+ 函数原型：
    ```c
    #include <arpa/inet.h>
    uint32_t ntohl(uint32_t netlong);
    ```
+ 函数参数：netlong：类型为 uint32_t，32 位无符号长整数，表示以网络字节序存储的数值。
+ 函数返回值：返回以主机字节序表示的 32 位无符号长整数。