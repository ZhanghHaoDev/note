# 套接字（Socket）

- **定义**：套接字是网络通信的端点，用于在网络中的不同主机之间进行数据交换。
- **成对出现**：在通信过程中，套接字总是成对出现，一个用于客户端（client），另一个用于服务器端（server）。

# 套接字属性

- **域（Domain）**：指定套接字通信使用的网络介质，如`AF_INET`（IPv4）和`AF_INET6`（IPv6）。
- **类型（Type）**：指定套接字的通信方式，如`SOCK_STREAM`（面向连接的流）和`SOCK_DGRAM`（无连接的数据报）。
- **协议（Protocol）**：指定套接字使用的协议，通常设置为0以使用默认协议。

# 网络字节序

- **小端法**：在PC本地存储中，低位字节存储在低地址，高位字节存储在高地址。
- **大端法**：在网络传输中，高位字节存储在低地址，低位字节存储在高地址。

### IP地址转换函数

- **`inet_pton`**：将点分十进制的IP地址转换为网络字节序的二进制地址。
- **`inet_ntop`**：将网络字节序的二进制地址转换为点分十进制的IP地址。

### 套接字编程流程

1. **创建套接字**：使用`socket()`函数创建一个套接字。
2. **绑定地址**：使用`bind()`函数将套接字绑定到一个地址和端口。
3. **监听连接**：服务器使用`listen()`函数监听客户端的连接请求。
4. **接受连接**：服务器使用`accept()`函数接受客户端的连接。
5. **数据传输**：使用`read()`和`write()`函数进行数据的读写。
6. **关闭套接字**：使用`close()`函数关闭套接字。

### 示例代码

- **服务器端**：创建套接字，绑定地址，监听连接，接受连接，读写数据，关闭套接字。
- **客户端**：创建套接字，连接到服务器，发送和接收数据，关闭套接字。

### 补充知识

- **`sockaddr`结构**：用于存储套接字的地址信息，包括IP地址和端口号。
- **`htonl`和`htons`函数**：将主机字节序转换为网络字节序。
- **`ntohl`和`ntohs`函数**：将网络字节序转换为主机字节序。
- **多线程服务器**：可以使用多线程来同时处理多个客户端的连接。
